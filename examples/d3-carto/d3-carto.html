<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>D3 Carto</title>
  <meta charset="utf-8" />
  <link type="text/css" rel="stylesheet" href="css/d3map.css" />
  <link type="text/css" rel="stylesheet" href="../../css/style.css" />
  <style>
    html,body {
      height: 100%;
      width: 100%;
      margin: 0;
    }

    #map {
        background-color: transparent;
    }

    circle {
      fill: #0022ff;
      stroke: #fff;
      opacity: .6;
   }
  </style>
  <script>
    function makeSomeMaps() {
      map = d3.carto.map();

      d3.select("#map").call(map);
      
      tileLayer = d3.carto.layer();
      tileLayer
      .type("tile")
      .path("esm1503.l25hfkf1")
      .label("Base")
      
      csvLayer = d3.carto.layer.csv();
      csvLayer
      .path("dataPoints.csv")
      .label("CSV Points")
      .cssClass("circle")
      .renderMode("svg")
      .markerSize(2)
      .x("xcoord")
      .y("ycoord")
      .cluster(true)
      .on("recluster");
      
      map.addCartoLayer(tileLayer).addCartoLayer(csvLayer);
      map.centerOn([-7.85, 39.56],"latlong").setScale(5);   
    }
  </script>
</head>
<body onload="makeSomeMaps()">
  <h1>D3 Carto</h1>
  <div id="map"></div>
<script src="js/d3.min.js" charset="utf-8" type="text/javascript"></script>
<script src="js/topojson.js" type="text/javascript"></script>
<script src="js/d3.geo.projection.js" type="text/javascript"></script>
<script src="js/tile.js" type="text/javascript"></script>
<script src="js/d3.geo.raster.js" type="text/javascript"></script>
<script src="js/d3.carto.map.js" type="text/javascript"></script>
</body>
</html>